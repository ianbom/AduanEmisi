import{r as P,j as a,S as v,t as o,J as u}from"./app-ATs5ISiJ.js";import{A as C,a as k,b as T,T as B,c as S,B as h,H as L,d as z,C as M}from"./CitizenLayout-CMNJ2BA9.js";import{C as t,a as l,B as r,b as D,d as I}from"./card-BBmrTWXU.js";import{M as R,P as K,a as U,C as O,T as E,b as F,c as n,d,g as H}from"./badgeRarityColor-DCvJoSMa.js";import{f as j}from"./formatDate-DdkzSpcV.js";import{M as _}from"./map-pin-LoYpawZ8.js";import{C as $}from"./calendar-BV9l0Mbb.js";import{F as f}from"./file-text-DNWXWrmL.js";import{A as p,M as G}from"./map-Cyc2hX8T.js";import{P as J}from"./plus-B8v3l2CZ.js";import"./index-Cm3cBoio.js";const V=({user:e,myReports:i,myReportsCount:c})=>{var g,N;const[m,x]=P.useState("reports"),y=[{label:"LAPORAN DIBUAT",value:c,icon:f,color:"text-blue-600"},{label:"MISI DIIKUTI",value:"8",icon:B,color:"text-green-600"},{label:"KOLEKSI BADGE",value:"20",icon:S,color:"text-purple-600"}],b=[{id:1,title:"Pelapor Aktif",description:"Membuat 10+ laporan lingkungan",icon:"🏆",dateReceived:"2024-01-15",rarity:"Gold"},{id:2,title:"Penggerak Komunitas",description:"Mengikuti 5+ misi volunteer",icon:"🤝",dateReceived:"2024-01-10",rarity:"Silver"},{id:3,title:"Pelindung Sungai",description:"Melaporkan 3+ kasus pencemaran air",icon:"🌊",dateReceived:"2024-01-05",rarity:"Bronze"}],A=[{id:1,title:"Pembersihan Pantai Ancol",role:"Anggota",status:"Completed",date:"2024-01-12"},{id:2,title:"Penanaman Pohon di Monas",role:"Ketua Tim",status:"On Progress",date:"2024-01-18"}];return a.jsx("div",{className:"min-h-screen",children:a.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[a.jsx(t,{className:"mb-8",children:a.jsx(l,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col items-start gap-6 md:flex-row md:items-center",children:[a.jsxs(C,{className:"h-24 w-24",children:[a.jsx(k,{src:e==null?void 0:e.profile_url,alt:e==null?void 0:e.name}),a.jsx(T,{className:"bg-emerald-100 text-xl font-semibold text-emerald-700",children:((N=(g=e==null?void 0:e.name)==null?void 0:g.charAt(0))==null?void 0:N.toUpperCase())||"U"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"mb-3 text-2xl font-bold text-gray-900",children:(e==null?void 0:e.name)||"User Name"}),a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:gap-8",children:[a.jsxs("div",{className:"space-y-2 text-gray-600 md:flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(R,{size:16,className:"text-gray-400"}),a.jsx("p",{children:e==null?void 0:e.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(K,{size:16,className:"text-gray-400"}),a.jsx("p",{children:(e==null?void 0:e.phone)||"-"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(_,{size:16,className:"mt-0.5 text-gray-400"}),a.jsx("p",{className:"text-gray-700",children:(e==null||e.district.name,e==null||e.city.name,(e==null?void 0:e.province.name)||"-")})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(U,{size:16,className:"mt-0.5 text-gray-400"}),a.jsx("p",{className:"text-gray-700",children:(e==null?void 0:e.address)||"-"})]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-500 md:flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($,{size:14,className:"text-gray-400"}),a.jsxs("p",{children:["Bergabung:"," ",j((e==null?void 0:e.created_at)||"")]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O,{size:14,className:"text-gray-400"}),a.jsxs("p",{children:["Diperbarui:"," ",j((e==null?void 0:e.updated_at)||"")]})]})]})]})]})]})})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Kilas Balik Kontribusi Anda"}),a.jsx("div",{className:"mb-6 grid gap-6 md:grid-cols-3",children:y.map((s,w)=>a.jsx(t,{className:"transition-shadow hover:shadow-lg",children:a.jsxs(l,{className:"p-6 text-center",children:[a.jsx(s.icon,{className:`h-8 w-8 ${s.color} mx-auto mb-3`}),a.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-900",children:s.label==="LAPORAN DIBUAT"&&c===0?"-":s.value}),a.jsx("div",{className:"text-sm text-gray-600",children:s.label}),s.label==="LAPORAN DIBUAT"?c===0?a.jsxs(r,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>v.visit("/report-create"),children:["Buat Sekarang",a.jsx(p,{className:"ml-1 h-3 w-3"})]}):a.jsxs(r,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>v.visit("/report"),children:["Lihat Semua",a.jsx(p,{className:"ml-1 h-3 w-3"})]}):a.jsxs(r,{variant:"ghost",size:"sm",className:"mt-2 text-xs",children:["Lihat Semua",a.jsx(p,{className:"ml-1 h-3 w-3"})]})]})},w))}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx(o,{href:"/report-create",children:a.jsx(t,{className:"h-full cursor-pointer transition-shadow hover:shadow-lg",children:a.jsxs(l,{className:"p-6 text-center",children:[a.jsx(J,{className:"mx-auto mb-3 h-12 w-12 text-green-600"}),a.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"LAPORKAN ISU BARU"}),a.jsx("p",{className:"text-gray-600",children:"Laporkan masalah lingkungan yang Anda temui"})]})})}),a.jsx(o,{href:"/map",children:a.jsx(t,{className:"h-full cursor-pointer transition-shadow hover:shadow-lg",children:a.jsxs(l,{className:"p-6 text-center",children:[a.jsx(G,{className:"mx-auto mb-3 h-12 w-12 text-blue-600"}),a.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"LIHAT PETA LAPORAN"}),a.jsx("p",{className:"text-gray-600",children:"Jelajahi laporan lingkungan di peta interaktif"})]})})})]})]}),a.jsxs(t,{children:[a.jsx(D,{children:a.jsx(I,{children:"Riwayat Aktivitas Detail"})}),a.jsx(l,{children:a.jsxs(E,{value:m,onValueChange:x,children:[a.jsxs(F,{className:"grid w-full grid-cols-5",children:[a.jsx(n,{value:"reports",children:"Laporan Saya"}),a.jsx(n,{value:"missions",children:"Misi Saya"}),a.jsx(n,{value:"donations",children:"Donasi Saya"}),a.jsx(n,{value:"certificates",children:"Sertifikat Saya"}),a.jsx(n,{value:"badges",children:"Koleksi Badges"})]}),a.jsx(d,{value:"reports",className:"mt-6",children:a.jsx("div",{className:"space-y-4",children:(i==null?void 0:i.length)>0?i.map(s=>a.jsx(t,{children:a.jsx(l,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),a.jsx("p",{className:"text-sm text-gray-600",children:s.address}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:j(s.created_at)})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(h,{variant:s.status==="Completed"?"default":"secondary",children:s.status}),a.jsx(o,{href:`/report/${s.id}`,children:a.jsx(r,{variant:"outline",size:"sm",children:"Lihat Detail"})})]})]})})},s.id)):a.jsxs("div",{className:"py-8 text-center",children:[a.jsx(f,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),a.jsx("p",{className:"text-gray-600",children:"Belum ada riwayat laporan"})]})})}),a.jsx(d,{value:"missions",className:"mt-6",children:a.jsx("div",{className:"space-y-4",children:A.map(s=>a.jsx(t,{children:a.jsx(l,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Peran:"," ",s.role]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s.date})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(h,{variant:s.status==="Completed"?"default":"secondary",children:s.status}),a.jsx(r,{variant:"outline",size:"sm",children:"Lihat Detail"})]})]})})},s.id))})}),a.jsx(d,{value:"donations",className:"mt-6",children:a.jsxs("div",{className:"py-8 text-center",children:[a.jsx(L,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),a.jsx("p",{className:"text-gray-600",children:"Belum ada riwayat donasi"})]})}),a.jsx(d,{value:"certificates",className:"mt-6",children:a.jsxs("div",{className:"py-8 text-center",children:[a.jsx(z,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),a.jsx("p",{className:"text-gray-600",children:"Belum ada sertifikat yang diterima"})]})}),a.jsx(d,{value:"badges",className:"mt-6",children:a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:b.map(s=>a.jsx(t,{className:`border-2 ${H(s.rarity)}`,children:a.jsxs(l,{className:"p-6 text-center",children:[a.jsx("div",{className:"mb-3 text-4xl",children:s.icon}),a.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:s.title}),a.jsx("p",{className:"mb-3 text-sm text-gray-600",children:s.description}),a.jsx(h,{variant:"outline",className:"mb-2",children:s.rarity}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Diterima:"," ",s.dateReceived]})]})},s.id))})})]})})]})]})})},ia=()=>{var x;const{props:e}=u(),i=((x=e.auth)==null?void 0:x.user)??null,c=e.myReports,m=e.myReportsCount;return a.jsx(M,{currentPage:"profile",children:a.jsx(V,{user:i,myReports:c,myReportsCount:m})})};export{ia as default};
