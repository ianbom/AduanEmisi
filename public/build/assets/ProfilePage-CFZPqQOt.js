import{r as N,j as e,S as z,t as y,J as Y}from"./app-zxYMwGOF.js";import{B as M,A as Z,c as ee,d as se,a as J}from"./Footer-C4DZ1Ria.js";import{I as q,B as o}from"./input-UKa8zMzj.js";import{C as i,b as V,c as H,a as r}from"./card-C31cs7-N.js";import{S as T,a as L,b as A,c as D,d as n}from"./select-C-vgCZK1.js";import{T as R,a as U,b as p,c as f}from"./tabs-DiIIH9_B.js";import{c as G}from"./index-LfXGvX3K.js";import{g as ae}from"./badgeStatusDonationColor-DZdIUfGW.js";import{f as g}from"./formatDate-DdkzSpcV.js";import{g as te,a as le}from"./missionStatusLabel-hBdcFGI7.js";import{g as ie,a as re}from"./reportStatusLabel-CeJ63OXr.js";import{g as ce}from"./statusDonationLabel-J8B5l4QS.js";import{A as Q}from"./award-DCdyfV8z.js";import{C as $}from"./calendar-DaJ5_Jdn.js";import{c as ne}from"./createLucideIcon-BHBxZHt5.js";import{M as de,a as me}from"./map-CWGmMwtV.js";import{P as xe,M as oe}from"./phone-BYwh8ZdL.js";import{M as he}from"./map-pin-Bj7gXg-4.js";import{C as je}from"./clock-CuGhzHa3.js";import{F as E,T as K,H as X}from"./Combination-B-xhR34O.js";import{T as ge}from"./trophy-C1YCyhLd.js";import{A as C}from"./arrow-right-3Qs562wc.js";import{P as pe}from"./plus-BVMKIMpV.js";import{C as fe}from"./CitizenLayout-Eb7bSh7r.js";import"./index-2F_fj6q5.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ue=({myBadges:a,myCertificates:d})=>{const[u,m]=N.useState("certificates"),[h,x]=N.useState(""),[c,w]=N.useState(""),[v,b]=N.useState("desc"),[j,F]=N.useState("desc"),W=t=>t.icon_url?e.jsx("img",{src:`/storage/${t.icon_url}`,alt:t.title,className:"w-12 h-12 mx-auto object-contain",onError:s=>{var O;const l=s.target;l.style.display="none",(O=l.nextElementSibling)==null||O.classList.remove("hidden")}}):"ðŸ…",B=t=>{const s=t.title.toLowerCase();return s.includes("legendary")||s.includes("master")?"Legendary":s.includes("epic")||s.includes("expert")?"Epic":s.includes("rare")||s.includes("advanced")?"Rare":""},_=t=>{switch(t.toLowerCase()){case"common":return"border-gray-300";case"rare":return"border-blue-400";case"epic":return"border-purple-400";case"legendary":return"border-yellow-400";default:return"border-gray-300"}},I=t=>new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),P=(t,s)=>{const l=document.createElement("a");l.href=`/storage/${t}`,l.download=`${s}.pdf`,l.target="_blank",document.body.appendChild(l),l.click(),document.body.removeChild(l)},k=d.filter(t=>t.title.toLowerCase().includes(h.toLowerCase())).sort((t,s)=>v==="desc"?new Date(s.created_at).getTime()-new Date(t.created_at).getTime():new Date(t.created_at).getTime()-new Date(s.created_at).getTime()),S=a.filter(t=>t.badge_id.toString().includes(c)).sort((t,s)=>j==="desc"?new Date(s.created_at).getTime()-new Date(t.created_at).getTime():new Date(t.created_at).getTime()-new Date(s.created_at).getTime());return e.jsxs(i,{children:[e.jsx(V,{children:e.jsx(H,{children:"Riwayat Pencapaian"})}),e.jsx(r,{children:e.jsxs(R,{value:u,onValueChange:m,children:[e.jsxs(U,{className:"hidden w-full grid-cols-2 md:grid",children:[e.jsx(p,{value:"certificates",children:"Sertifikat Saya"}),e.jsx(p,{value:"badges",children:"Koleksi Badges"})]}),e.jsx("div",{className:"mb-4 md:hidden",children:e.jsxs(T,{value:u,onValueChange:m,children:[e.jsx(L,{className:"w-full",children:e.jsx(A,{placeholder:"Pilih aktivitas"})}),e.jsxs(D,{children:[e.jsx(n,{value:"certificates",children:"Sertifikat Saya"}),e.jsx(n,{value:"badges",children:"Koleksi Badges"})]})]})}),e.jsxs(f,{value:"certificates",className:"mt-6",children:[e.jsxs("div",{className:"mb-4 flex flex-col items-start justify-between gap-2 sm:flex-row sm:items-center",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{value:v,onValueChange:b,children:[e.jsx(L,{className:"w-[140px]",children:e.jsx(A,{placeholder:"Tampilkan"})}),e.jsxs(D,{children:[e.jsx(n,{value:"desc",children:"Terbaru"}),e.jsx(n,{value:"asc",children:"Terlama"})]})]}),e.jsx(q,{type:"text",placeholder:"Cari sertifikat...",className:"w-40",value:h,onChange:t=>x(t.target.value)})]})]}),k.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(Q,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:h?"Tidak ada sertifikat yang cocok dengan pencarian":"Belum ada sertifikat yang diterima"})]}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:k.map(t=>e.jsx(i,{className:"border-2 border-blue-200",children:e.jsxs(r,{className:"p-4 text-center sm:p-6",children:[e.jsx("div",{className:"mb-3 text-3xl sm:text-4xl",children:"ðŸ“œ"}),e.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-900 sm:text-base",children:t.title}),e.jsxs("div",{className:"mb-3 flex items-center justify-center gap-1 text-xs text-gray-600",children:[e.jsx($,{className:"h-3 w-3"}),e.jsxs("span",{children:["Diterima: ",I(t.created_at)]})]}),e.jsxs("button",{onClick:()=>P(t.certificate_url,t.title),className:"flex items-center justify-center gap-2 w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-xs transition-colors",children:[e.jsx(Ne,{className:"h-3 w-3"}),"Download"]})]})},t.id))})]}),e.jsxs(f,{value:"badges",className:"mt-6",children:[e.jsxs("div",{className:"mb-4 flex flex-col items-start justify-between gap-2 sm:flex-row sm:items-center",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{value:j,onValueChange:F,children:[e.jsx(L,{className:"w-[140px]",children:e.jsx(A,{placeholder:"Tampilkan"})}),e.jsxs(D,{children:[e.jsx(n,{value:"desc",children:"Terbaru"}),e.jsx(n,{value:"asc",children:"Terlama"})]})]}),e.jsx(q,{type:"text",placeholder:"Cari badge...",className:"w-40",value:c,onChange:t=>w(t.target.value)})]})]}),S.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(Q,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:c?"Tidak ada badge yang cocok dengan pencarian":"Belum ada badge yang diterima"})]}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:S.map(t=>{const s=B(t.badge);return e.jsx(i,{className:`border-2 ${_(s)}`,children:e.jsxs(r,{className:"p-4 text-center sm:p-6",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-center h-12",children:[W(t.badge),e.jsx("span",{className:"text-3xl sm:text-4xl hidden",children:"ðŸ…"})]}),e.jsx("h3",{className:"mb-2 text-sm font-semibold text-gray-900 sm:text-base",children:t.badge.title}),e.jsx("p",{className:"mb-3 text-xs text-gray-600 sm:text-sm",children:t.badge.description||"Achievement badge earned through platform activities"}),e.jsx(M,{variant:"outline",className:"mb-2 text-xs",children:s}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500",children:[e.jsx($,{className:"h-3 w-3"}),e.jsxs("span",{children:["Diterima: ",I(t.created_at)]})]})]})},t.id)})})]})]})})]})},ve=({user:a,myReports:d,myReportsCount:u,myMissions:m,myMissionCounts:h,myDonations:x,myPoints:c,myBadges:w,myCertificates:v})=>{var P,k,S,t;const[b,j]=N.useState("reports"),[F,W]=N.useState("certificates"),[B,_]=N.useState("all-points"),I=[{label:"LAPORAN DIBUAT",value:u??0,icon:E,color:"text-blue-600"},{label:"MISI DIIKUTI",value:h??0,icon:K,color:"text-green-600"},{label:"KOLEKSI BADGE",value:"20",icon:ge,color:"text-purple-600"}];return e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsx(i,{className:"mb-8",children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-start gap-8 lg:flex-row lg:items-start",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"relative",children:e.jsxs(Z,{className:"h-24 w-24",children:[e.jsx(ee,{src:a!=null&&a.profile_url?`/storage/${a.profile_url}`:void 0}),e.jsx(se,{className:"bg-emerald-100 text-xl font-semibold text-emerald-700",children:((P=a==null?void 0:a.name)==null?void 0:P.charAt(0).toUpperCase())||"U"})]})}),e.jsxs("a",{href:"/edit-profile",className:"inline-flex items-center rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition-colors duration-200 hover:bg-emerald-700",children:[e.jsx("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Profile"]})]}),e.jsxs("div",{className:"w-full flex-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:(a==null?void 0:a.name)||"User Name"}),e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 rounded-md bg-yellow-100 px-2 py-0.5 text-xs font-medium text-yellow-800",children:[e.jsx(J,{className:"h-4 w-4 text-yellow-500"}),(a==null?void 0:a.points_balance)||0," Poin"]})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-gray-800",children:"Informasi Kontak"}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-blue-100",children:e.jsx(de,{size:16,className:"text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Email"}),e.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:(a==null?void 0:a.email)||"Tidak tersedia"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-green-100",children:e.jsx(xe,{size:16,className:"text-green-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Telepon"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(a==null?void 0:a.phone)||"Tidak tersedia"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-wide text-gray-800",children:"Informasi Lokasi"}),e.jsxs("div",{className:"flex items-start space-x-3 rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"mt-0.5 flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-red-100",children:e.jsx(he,{size:16,className:"text-red-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Wilayah"}),e.jsx("p",{className:"text-sm font-medium leading-relaxed text-gray-900",children:[(k=a==null?void 0:a.district)==null?void 0:k.name,(S=a==null?void 0:a.city)==null?void 0:S.name,(t=a==null?void 0:a.province)==null?void 0:t.name].filter(Boolean).join(", ")||"Tidak tersedia"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 rounded-lg bg-gray-50 p-3",children:[e.jsx("div",{className:"mt-0.5 flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-purple-100",children:e.jsx(oe,{size:16,className:"text-purple-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Alamat"}),e.jsx("p",{className:"text-sm font-medium leading-relaxed text-gray-900",children:(a==null?void 0:a.address)||"Tidak tersedia"})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-emerald-100",children:e.jsx($,{size:14,className:"text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Bergabung"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:g((a==null?void 0:a.created_at)||"")})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg bg-orange-100",children:e.jsx(je,{size:14,className:"text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Terakhir Diperbarui"}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:g((a==null?void 0:a.updated_at)||"")})]})]})]})})]})]})})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Kilas Balik Kontribusi Anda"}),e.jsx("div",{className:"mb-6 grid gap-6 md:grid-cols-3",children:I.map((s,l)=>e.jsx(i,{className:"transition-shadow hover:shadow-lg",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(s.icon,{className:`h-8 w-8 ${s.color} mx-auto mb-3`}),e.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-900",children:s.value??0}),e.jsx("div",{className:"text-sm text-gray-600",children:s.label}),s.label==="LAPORAN DIBUAT"?u===0?e.jsxs(o,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>z.visit("/report-create"),children:["Buat Sekarang",e.jsx(C,{className:"ml-1 h-3 w-3"})]}):e.jsxs(o,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>z.visit("/my-report"),children:["Lihat Semua",e.jsx(C,{className:"ml-1 h-3 w-3"})]}):s.label==="MISI DIIKUTI"?h===0?e.jsxs(o,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>z.visit("/mission"),children:["Cari Misi",e.jsx(C,{className:"ml-1 h-3 w-3"})]}):e.jsxs(o,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>z.visit("/my-mission"),children:["Lihat Semua",e.jsx(C,{className:"ml-1 h-3 w-3"})]}):e.jsxs(o,{variant:"ghost",size:"sm",className:"mt-2 text-xs",children:["Lihat Semua",e.jsx(C,{className:"ml-1 h-3 w-3"})]})]})},l))}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(y,{href:"/report-create",children:e.jsx(i,{className:"h-full cursor-pointer transition-shadow hover:shadow-lg",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(pe,{className:"mx-auto mb-3 h-12 w-12 text-green-600"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"LAPORKAN ISU BARU"}),e.jsx("p",{className:"text-gray-600",children:"Laporkan masalah lingkungan yang Anda temui"})]})})}),e.jsx(y,{href:"/map",children:e.jsx(i,{className:"h-full cursor-pointer transition-shadow hover:shadow-lg",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(me,{className:"mx-auto mb-3 h-12 w-12 text-blue-600"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"LIHAT PETA LAPORAN"}),e.jsx("p",{className:"text-gray-600",children:"Jelajahi laporan lingkungan di peta interaktif"})]})})})]})]}),e.jsxs(i,{className:"mb-8",children:[e.jsx(V,{children:e.jsx(H,{children:"Riwayat Aktivitas Detail"})}),e.jsx(r,{children:e.jsxs(R,{value:b,onValueChange:j,children:[e.jsxs(U,{className:"hidden w-full grid-cols-3 md:grid",children:[e.jsx(p,{value:"reports",children:"Laporan Saya"}),e.jsx(p,{value:"missions",children:"Misi Saya"}),e.jsx(p,{value:"donations",children:"Donasi Saya"})]}),e.jsx("div",{className:"mb-4 md:hidden",children:e.jsxs(T,{value:b,onValueChange:j,children:[e.jsx(L,{className:"w-full",children:e.jsx(A,{placeholder:"Pilih aktivitas"})}),e.jsxs(D,{children:[e.jsx(n,{value:"reports",children:"Laporan Saya"}),e.jsx(n,{value:"missions",children:"Misi Saya"}),e.jsx(n,{value:"donations",children:"Donasi Saya"})]})]})}),e.jsx(f,{value:"reports",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:(d==null?void 0:d.length)>0?e.jsxs(e.Fragment,{children:[d.slice(0,5).map(s=>e.jsx(i,{children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.address}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Laporan dibuat:"," ",g(s.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-3 self-start",children:[e.jsx(M,{className:re(s.status),children:ie(s.status)}),e.jsx(y,{href:`/report/${s.id}`,children:e.jsx(o,{variant:"outline",size:"sm",children:"Lihat Detail"})})]})]})})},s.id)),d.length>5&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx(y,{href:"/my-report",children:e.jsxs(o,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(E,{size:16}),"Lihat Semua (",d.length," ","Laporan)"]})})})]}):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(E,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"Belum ada riwayat laporan"})]})})}),e.jsx(f,{value:"missions",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:(m==null?void 0:m.length)>0?e.jsxs(e.Fragment,{children:[m.slice(0,5).map(s=>{var l;return e.jsx(i,{children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Peran:"," ",(l=s.pivot)!=null&&l.is_leader?"Ketua Tim":"Anggota Tim"]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Misi dibuat:"," ",g(s.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-3 self-start",children:[e.jsx(M,{className:le(s.status),children:te(s.status)}),e.jsx(y,{href:`/report/${s.id}`,children:e.jsx(o,{variant:"outline",size:"sm",children:"Lihat Detail"})})]})]})})},s.id)}),m.length>5&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx(y,{href:"/my-mission",children:e.jsxs(o,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(K,{size:16}),"Lihat Semua (",d.length," ","Misi)"]})})})]}):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(K,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"Belum ada riwayat misi"})]})})}),e.jsx(f,{value:"donations",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:(x==null?void 0:x.length)>0?e.jsxs(e.Fragment,{children:[x.slice(0,5).map(s=>{var l;return e.jsx(i,{children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:(l=s.report)==null?void 0:l.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.transaction_id}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Waktu donasi:"," ",g(s.created_at)]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1 self-start",children:[e.jsx(M,{className:ae(s.status),children:ce(s.status)}),e.jsxs("p",{className:"text-xl font-semibold text-emerald-600",children:["Rp."," ",s.amount]})]})]})})},s.id)}),x.length>5&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx(y,{href:"/my-donations",children:e.jsxs(o,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(X,{size:16}),"Lihat Semua (",x.length," ","Donasi)"]})})})]}):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(X,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"Belum ada riwayat donasi"})]})})})]})})]}),e.jsxs(i,{className:"mb-8",children:[e.jsxs(V,{className:"flex flex-row items-center justify-between",children:[e.jsx(H,{children:"Riwayat Poin"}),e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-md bg-yellow-100 px-2 py-2.5 text-xs font-medium text-yellow-800",children:["Poin Saat Ini:",e.jsx(J,{className:"h-4 w-4 text-yellow-500"}),(a==null?void 0:a.points_balance)||0," Poin"]})]}),e.jsx(r,{children:e.jsxs(R,{value:B,onValueChange:_,children:[e.jsxs(U,{className:"hidden w-full grid-cols-3 md:grid",children:[e.jsx(p,{value:"all-points",children:"Semua"}),e.jsx(p,{value:"increment-points",children:"Increment"}),e.jsx(p,{value:"decrement-points",children:"Decrement"})]}),e.jsx("div",{className:"mb-4 md:hidden",children:e.jsxs(T,{value:B,onValueChange:_,children:[e.jsx(L,{className:"w-full",children:e.jsx(A,{placeholder:"Pilih aktivitas"})}),e.jsxs(D,{children:[e.jsx(n,{value:"all-points",children:"Semua"}),e.jsx(n,{value:"increment-points",children:"Increment"}),e.jsx(n,{value:"decrement-points",children:"Decrement"})]})]})}),e.jsx(f,{value:"all-points",className:"mt-6",children:c.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:e.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"Data tidak ditemukan"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Belum ada riwayat poin yang tersedia"})]}):e.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4",children:c.map(s=>e.jsx(i,{className:G("p-3 shadow-sm transition-colors",s.type==="increment"?"border-emerald-200 bg-emerald-50/50 hover:bg-emerald-50":"border-red-200 bg-red-50/50 hover:bg-red-50"),children:e.jsxs(r,{className:"p-0",children:[e.jsxs("div",{className:G("mb-1 text-sm font-semibold",s.type==="increment"?"text-emerald-600":"text-red-600"),children:[s.type==="increment"?"+":"-",s.amount," poin"]}),e.jsx("p",{className:"text-xs text-gray-700",children:s.description}),e.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:g(s.created_at)})]})},s.id))})}),e.jsx(f,{value:"increment-points",className:"mt-6",children:c.filter(s=>s.type==="increment").length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-100",children:e.jsx("svg",{className:"h-8 w-8 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"Data tidak ditemukan"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Belum ada riwayat penambahan poin"})]}):e.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4",children:c.filter(s=>s.type==="increment").map(s=>e.jsx(i,{className:"border-emerald-200 bg-emerald-50/50 p-3 shadow-sm transition-colors hover:bg-emerald-50",children:e.jsxs(r,{className:"p-0",children:[e.jsxs("div",{className:"mb-1 text-sm font-semibold text-emerald-600",children:["+",s.amount," poin"]}),e.jsx("p",{className:"text-xs text-gray-700",children:s.description}),e.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:g(s.created_at)})]})},s.id))})}),e.jsx(f,{value:"decrement-points",className:"mt-6",children:c.filter(s=>s.type==="decrement").length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:e.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"Data tidak ditemukan"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Belum ada riwayat pengurangan poin"})]}):e.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4",children:c.filter(s=>s.type==="decrement").map(s=>e.jsx(i,{className:"border-red-200 bg-red-50/50 p-3 shadow-sm transition-colors hover:bg-red-50",children:e.jsxs(r,{className:"p-0",children:[e.jsxs("div",{className:"mb-1 text-sm font-semibold text-red-600",children:["-",s.amount," poin"]}),e.jsx("p",{className:"text-xs text-gray-700",children:s.description}),e.jsx("p",{className:"mt-1 text-[10px] text-gray-400",children:g(s.created_at)})]})},s.id))})})]})})]}),e.jsx(ue,{myBadges:w,myCertificates:v})]})})},Oe=()=>{var j;const{props:a}=Y(),d=((j=a.auth)==null?void 0:j.user)??null,u=a.myReports,m=a.myReportsCount,h=a.myMissions,x=a.myMissionCounts,c=a.myDonations,w=a.myPoints,v=a.myBadges,b=a.myCertificates;return console.log("Bagde:",v),console.log("Sertif:",b),e.jsx(fe,{currentPage:"profile",children:e.jsx(ve,{user:d,myPoints:w,myReports:u,myReportsCount:m,myMissions:h,myMissionCounts:x,myDonations:c,myBadges:v,myCertificates:b})})};export{Oe as default};
