import{J as n,r as l,j as e,S as i}from"./app-D6oXFsZo.js";import{s as g,N as k,g as C,e as b,F as x,$ as y,f as N}from"./Footer-FNOhNCFm.js";function z({children:r,currentPage:c}){const{flash:t={}}=n().props,[p,a]=l.useState(!1),{auth:s}=n().props,o=s==null?void 0:s.user,d=[{id:"homepage",label:"Beranda",key:"homepage"},{id:"report",label:"Laporan",key:"report"},{id:"mission",label:"Misi",key:"mission"},{id:"map",label:"Peta",key:"map"},{id:"education",label:"Konten Edukasi",key:"education"},{id:"merchandise",label:"Merchandise",key:"merchandise"},{id:"quiz",label:"Quiz",key:"quiz"}];l.useEffect(()=>{console.log("Flash data di CitizenLayout:",t),g.handleFlash(t)},[t]);const u=h=>{i.visit(`/${h}`)},m=()=>{(o==null?void 0:o.role)==="citizen"?i.visit(route("profile.show")):i.visit(route("community.profile.show"))},f=()=>{i.post(route("logout"))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-white",children:[e.jsx(k,{user:o,navItems:d,onNavigate:u,currentPage:c,onNotificationClick:()=>a(!0),profileMenuContent:C({user:o,onProfileClick:m,onLogoutClick:f})}),e.jsx("main",{className:"pt-16",children:r}),e.jsx(b,{isOpen:p,onClose:()=>a(!1)}),e.jsx(x,{}),e.jsx(y,{position:"top-right",richColors:!0,closeButton:!0}),e.jsx(N,{})]})}export{z as C};
