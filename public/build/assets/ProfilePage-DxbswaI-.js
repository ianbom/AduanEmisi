import{r as M,j as a,S as k,t as o,J as B}from"./app-ATs5ISiJ.js";import{A as S,a as L,b as I,T as z,c as D,B as h,H as K,d as R,C as U}from"./CitizenLayout-CMNJ2BA9.js";import{C as t,a as l,B as n,b as O,d as E}from"./card-BBmrTWXU.js";import{M as H,P as F,a as G,C as _,T as $,b as J,c as r,d,g as q}from"./badgeRarityColor-DCvJoSMa.js";import{f as j}from"./formatDate-DdkzSpcV.js";import{M as V}from"./map-pin-LoYpawZ8.js";import{C as Q}from"./calendar-BV9l0Mbb.js";import{c as W,F as w}from"./file-text-DNWXWrmL.js";import{A as p,M as X}from"./map-Cyc2hX8T.js";import{P as Y}from"./plus-B8v3l2CZ.js";import"./index-Cm3cBoio.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),aa=({user:e,myReports:i,myReportsCount:c})=>{var g,N,v,y,f,b,A;const[x,m]=M.useState("reports"),u=[{label:"LAPORAN DIBUAT",value:c,icon:w,color:"text-blue-600"},{label:"MISI DIIKUTI",value:"8",icon:z,color:"text-green-600"},{label:"KOLEKSI BADGE",value:"20",icon:D,color:"text-purple-600"},{label:"ANGGOTA KOMUNITAS",value:"20",icon:Z,color:"text-sky-600"}],P=[{id:1,title:"Pelapor Aktif",description:"Membuat 10+ laporan lingkungan",icon:"🏆",dateReceived:"2024-01-15",rarity:"Gold"},{id:2,title:"Penggerak Komunitas",description:"Mengikuti 5+ misi volunteer",icon:"🤝",dateReceived:"2024-01-10",rarity:"Silver"},{id:3,title:"Pelindung Sungai",description:"Melaporkan 3+ kasus pencemaran air",icon:"🌊",dateReceived:"2024-01-05",rarity:"Bronze"}],C=[{id:1,title:"Pembersihan Pantai Ancol",role:"Anggota",status:"Completed",date:"2024-01-12"},{id:2,title:"Penanaman Pohon di Monas",role:"Ketua Tim",status:"On Progress",date:"2024-01-18"}];return a.jsx("div",{className:"min-h-screen",children:a.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[a.jsx(t,{className:"mb-8",children:a.jsx(l,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col items-start gap-6 md:flex-row md:items-center",children:[a.jsxs(S,{className:"h-24 w-24",children:[a.jsx(L,{src:e==null?void 0:e.profile_url,alt:(g=e==null?void 0:e.community)==null?void 0:g.name}),a.jsx(I,{className:"bg-emerald-100 text-xl font-semibold text-emerald-700",children:((v=(N=e==null?void 0:e.name)==null?void 0:N.charAt(0))==null?void 0:v.toUpperCase())||"U"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"mb-3 text-2xl font-bold text-gray-900",children:((y=e==null?void 0:e.community)==null?void 0:y.name)||"Unknown Community"}),a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:gap-8",children:[a.jsxs("div",{className:"space-y-2 text-gray-600 md:flex-1",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("p",{children:["Ketua Komunitas:"," ",(e==null?void 0:e.name)||"-"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{size:16,className:"text-gray-400"}),a.jsx("p",{children:e==null?void 0:e.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F,{size:16,className:"text-gray-400"}),a.jsx("p",{children:(e==null?void 0:e.phone)||"-"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(V,{size:16,className:"mt-0.5 text-gray-400"}),a.jsx("p",{className:"text-gray-700",children:((f=e==null?void 0:e.district)==null||f.name,(b=e==null?void 0:e.city)==null||b.name,((A=e==null?void 0:e.province)==null?void 0:A.name)||"-")})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(G,{size:16,className:"mt-0.5 text-gray-400"}),a.jsx("p",{className:"text-gray-700",children:(e==null?void 0:e.address)||"-"})]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-500 md:flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Q,{size:14,className:"text-gray-400"}),a.jsxs("p",{children:["Bergabung:"," ",j((e==null?void 0:e.created_at)||"")]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_,{size:14,className:"text-gray-400"}),a.jsxs("p",{children:["Diperbarui:"," ",j((e==null?void 0:e.updated_at)||"")]})]})]})]})]})]})})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Kilas Balik Kontribusi Anda"}),a.jsx("div",{className:"mb-6 grid gap-6 md:grid-cols-4",children:u.map((s,T)=>a.jsx(t,{className:"transition-shadow hover:shadow-lg",children:a.jsxs(l,{className:"p-6 text-center",children:[a.jsx(s.icon,{className:`h-8 w-8 ${s.color} mx-auto mb-3`}),a.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-900",children:s.label==="LAPORAN DIBUAT"&&c===0?"-":s.value}),a.jsx("div",{className:"text-sm text-gray-600",children:s.label}),s.label==="LAPORAN DIBUAT"?c===0?a.jsxs(n,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>k.visit("/report-create"),children:["Buat Sekarang",a.jsx(p,{className:"ml-1 h-3 w-3"})]}):a.jsxs(n,{variant:"ghost",size:"sm",className:"mt-2 text-xs",onClick:()=>k.visit("/report"),children:["Lihat Semua",a.jsx(p,{className:"ml-1 h-3 w-3"})]}):a.jsxs(n,{variant:"ghost",size:"sm",className:"mt-2 text-xs",children:["Lihat Semua",a.jsx(p,{className:"ml-1 h-3 w-3"})]})]})},T))}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx(o,{href:"/report-create",children:a.jsx(t,{className:"h-full cursor-pointer transition-shadow hover:shadow-lg",children:a.jsxs(l,{className:"p-6 text-center",children:[a.jsx(Y,{className:"mx-auto mb-3 h-12 w-12 text-green-600"}),a.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"LAPORKAN ISU BARU"}),a.jsx("p",{className:"text-gray-600",children:"Laporkan masalah lingkungan yang Anda temui"})]})})}),a.jsx(o,{href:"/map",children:a.jsx(t,{className:"h-full cursor-pointer transition-shadow hover:shadow-lg",children:a.jsxs(l,{className:"p-6 text-center",children:[a.jsx(X,{className:"mx-auto mb-3 h-12 w-12 text-blue-600"}),a.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"LIHAT PETA LAPORAN"}),a.jsx("p",{className:"text-gray-600",children:"Jelajahi laporan lingkungan di peta interaktif"})]})})})]})]}),a.jsxs(t,{children:[a.jsx(O,{children:a.jsx(E,{children:"Riwayat Aktivitas Detail"})}),a.jsx(l,{children:a.jsxs($,{value:x,onValueChange:m,children:[a.jsxs(J,{className:"grid w-full grid-cols-5",children:[a.jsx(r,{value:"reports",children:"Laporan Saya"}),a.jsx(r,{value:"missions",children:"Misi Saya"}),a.jsx(r,{value:"donations",children:"Donasi Saya"}),a.jsx(r,{value:"certificates",children:"Sertifikat Saya"}),a.jsx(r,{value:"badges",children:"Koleksi Badges"})]}),a.jsx(d,{value:"reports",className:"mt-6",children:a.jsx("div",{className:"space-y-4",children:(i==null?void 0:i.length)>0?i.map(s=>a.jsx(t,{children:a.jsx(l,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),a.jsx("p",{className:"text-sm text-gray-600",children:s.address}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:j(s.created_at)})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(h,{variant:s.status==="Completed"?"default":"secondary",children:s.status}),a.jsx(o,{href:`/report/${s.id}`,children:a.jsx(n,{variant:"outline",size:"sm",children:"Lihat Detail"})})]})]})})},s.id)):a.jsxs("div",{className:"py-8 text-center",children:[a.jsx(w,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),a.jsx("p",{className:"text-gray-600",children:"Belum ada riwayat laporan"})]})})}),a.jsx(d,{value:"missions",className:"mt-6",children:a.jsx("div",{className:"space-y-4",children:C.map(s=>a.jsx(t,{children:a.jsx(l,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Peran:"," ",s.role]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s.date})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(h,{variant:s.status==="Completed"?"default":"secondary",children:s.status}),a.jsx(n,{variant:"outline",size:"sm",children:"Lihat Detail"})]})]})})},s.id))})}),a.jsx(d,{value:"donations",className:"mt-6",children:a.jsxs("div",{className:"py-8 text-center",children:[a.jsx(K,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),a.jsx("p",{className:"text-gray-600",children:"Belum ada riwayat donasi"})]})}),a.jsx(d,{value:"certificates",className:"mt-6",children:a.jsxs("div",{className:"py-8 text-center",children:[a.jsx(R,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),a.jsx("p",{className:"text-gray-600",children:"Belum ada sertifikat yang diterima"})]})}),a.jsx(d,{value:"badges",className:"mt-6",children:a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:P.map(s=>a.jsx(t,{className:`border-2 ${q(s.rarity)}`,children:a.jsxs(l,{className:"p-6 text-center",children:[a.jsx("div",{className:"mb-3 text-4xl",children:s.icon}),a.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:s.title}),a.jsx("p",{className:"mb-3 text-sm text-gray-600",children:s.description}),a.jsx(h,{variant:"outline",className:"mb-2",children:s.rarity}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Diterima:"," ",s.dateReceived]})]})},s.id))})})]})})]})]})})},oa=()=>{var m;const{props:e}=B(),i=(m=e.auth)==null?void 0:m.user,c=e.myReports,x=e.myReportsCount;return a.jsx(U,{currentPage:"community/profile",children:a.jsx(aa,{user:i,myReports:c,myReportsCount:x})})};export{oa as default};
