import{r as u,j as e,J as P}from"./app-D6oXFsZo.js";import{C as B}from"./CitizenLayout-B4ezgIbn.js";import{B as h,L as b,b as v}from"./Footer-FNOhNCFm.js";import{B as n,I as D}from"./input-Dwu2-R7m.js";import{C as g,b as R,c as M,a as f}from"./card-9QcjhDUT.js";import{S as w,a as S,b as C,c as z,d as i}from"./select-DkgeVxYR.js";import{f as L}from"./formatDate-DdkzSpcV.js";import{S as Q}from"./sliders-horizontal-Nv-wX3ev.js";import{R as q}from"./refresh-ccw-7670q9GI.js";import{C as Z}from"./clock-DchWU6DA.js";import{T as A}from"./trophy-D9FEzWgv.js";import{c as I}from"./createLucideIcon-DCNWzv65.js";import"./index-yxFBMRA-.js";import"./Combination-mNV7HmCE.js";import"./index-DM2tG7iY.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=I("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),E=a=>{switch(a){case"mudah":return"bg-green-100 text-green-800";case"sedang":return"bg-yellow-100 text-yellow-800";case"sulit":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=a=>a===100?"bg-emerald-100 text-emerald-800":a>=80?"bg-sky-100 text-sky-800":a>=60?"bg-amber-100 text-amber-800":"bg-rose-100 text-rose-800",V=a=>a===100?"text-green-600":a>=80?"text-blue-600":a>=60?"text-yellow-600":"text-red-600",U=({quizzes:a=[]})=>{const x=[{id:1,score:85,created_at:"2025-07-15T10:00:00Z",quiz:{id:1,title:"Kuis Dasar Lingkungan Hidup",difficulty:"mudah",point:10},total_questions:20},{id:2,score:100,created_at:"2025-07-20T14:30:00Z",quiz:{id:2,title:"Kuis Perubahan Iklim dan Dampaknya",difficulty:"sedang",point:150},total_questions:25},{id:3,score:76,created_at:"2025-07-10T08:45:00Z",quiz:{id:3,title:"Kuis Energi Terbarukan",difficulty:"sulit",point:20},total_questions:30},{id:4,score:92,created_at:"2025-07-25T16:20:00Z",quiz:{id:4,title:"Kuis Pengelolaan Sampah",difficulty:"sedang",point:15},total_questions:22},{id:5,score:68,created_at:"2025-07-12T11:15:00Z",quiz:{id:5,title:"Kuis Konservasi Air",difficulty:"mudah",point:120},total_questions:15},{id:6,score:100,created_at:"2025-07-12T11:15:00Z",quiz:{id:6,title:"Kuis Konservasi Tanah",difficulty:"sedang",point:100},total_questions:8},{id:7,score:22,created_at:"2025-07-12T11:15:00Z",quiz:{id:7,title:"Kuis Konservasi Udara",difficulty:"sedang",point:100},total_questions:8}],l=a.length>0?a:x,[t,j]=u.useState(""),[K,T]=u.useState("all"),[d,p]=u.useState("all"),[r,y]=u.useState("all"),k=l.filter(s=>{const m=s.quiz.title.toLowerCase().includes(t.toLowerCase()),F=d==="all"||s.quiz.difficulty===d;let c=!0;return r==="perfect"?c=s.score===100:r==="good"?c=s.score>=80&&s.score<100:r==="fair"?c=s.score>=60&&s.score<80:r==="poor"&&(c=s.score<60),m&&F&&c}),N=()=>{j(""),T("all"),p("all"),y("all")},o=t.trim()||K!=="all"||d!=="all"||r!=="all",_=s=>{console.log(`Retaking quiz with ID: ${s}`),window.location.href=`/quiz/${s}`};return e.jsxs("div",{className:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-4 mb-8 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mb-1 text-2xl font-bold text-gray-900 sm:text-3xl",children:"Riwayat Kuis Yang Dikerjakan"}),e.jsx("p",{className:"text-gray-600",children:"Berikut adalah riwayat kuis yang telah Anda kerjakan. Kerjakan ulang kuis untuk meningkatkan skor dan mendapatkan poin!"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:["Total Kuis Dikerjakan: ",l.length]}),e.jsxs("span",{children:["Skor Rata-rata:"," ",Math.round(l.reduce((s,m)=>s+m.score,0)/l.length)]}),e.jsxs("span",{children:["Perfect Score:"," ",l.filter(s=>s.score===100).length]})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(n,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>window.location.href="/quiz",children:"Cari Kuis Baru"})})]}),e.jsxs(g,{className:"mb-6",children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(M,{className:"flex items-center justify-between gap-4 text-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{size:20,className:"mr-2 text-emerald-600"}),"Filter Kuis"]}),o&&e.jsx(h,{variant:"secondary",className:"bg-emerald-100 text-emerald-600",children:"Filter Aktif"})]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:N,disabled:!o,children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Reset Filter"]})]})}),e.jsx(f,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tingkat Kesulitan"}),e.jsxs(w,{value:d,onValueChange:p,children:[e.jsx(S,{children:e.jsx(C,{placeholder:"Semua Tingkat"})}),e.jsxs(z,{children:[e.jsx(i,{value:"all",children:"Semua Tingkat"}),e.jsx(i,{value:"mudah",children:"Mudah"}),e.jsx(i,{value:"sedang",children:"Sedang"}),e.jsx(i,{value:"sulit",children:"Sulit"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Skor"}),e.jsxs(w,{value:r,onValueChange:y,children:[e.jsx(S,{children:e.jsx(C,{placeholder:"Semua Skor"})}),e.jsxs(z,{children:[e.jsx(i,{value:"all",children:"Semua Skor"}),e.jsx(i,{value:"perfect",children:"Perfect (100)"}),e.jsx(i,{value:"good",children:"Bagus (80-99)"}),e.jsx(i,{value:"fair",children:"Cukup (60-79)"}),e.jsx(i,{value:"poor",children:"Perlu Diperbaiki (<60)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Pencarian Kuis"}),e.jsx(D,{type:"text",placeholder:"Cari berdasarkan judul kuis...",value:t,onChange:s=>j(s.target.value)})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[k.map(s=>e.jsx(g,{className:"transition-shadow hover:shadow-md",children:e.jsx(f,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-800",children:s.quiz.title}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.quiz.difficulty&&e.jsx(h,{className:`text-xs ${E(s.quiz.difficulty)}`,children:s.quiz.difficulty==="mudah"?"Mudah":s.quiz.difficulty==="sedang"?"Sedang":"Sulit"}),e.jsx(h,{className:`text-xs ${H(s.score)}`,children:s.score===100?"Perfect!":s.score>=80?"Bagus":s.score>=60?"Cukup":"Perlu Diperbaiki"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 lg:grid-cols-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{children:L(s.created_at)})]}),s.total_questions&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-yellow-600"}),e.jsxs("span",{children:["Soal:"," ",s.total_questions," ","pertanyaan"]})]}),s.score===100&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-purple-600"}),e.jsxs("span",{children:["Poin: +",s.quiz.point]})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3 lg:min-w-[200px]",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.score===100&&e.jsx(v,{className:"w-5 h-5 text-green-600"}),e.jsx("p",{className:`text-3xl font-bold ${V(s.score)}`,children:s.score}),e.jsx("span",{className:"text-lg text-gray-500",children:"/ 100"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Skor Akhir"})]}),s.score<100&&e.jsxs(n,{onClick:()=>_(s.id),className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700",size:"sm",children:[e.jsx($,{className:"w-4 h-4"}),"Kerjakan Ulang"]}),s.score===100&&e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-green-600",children:[e.jsx(v,{className:"w-4 h-4"}),"Skor Sempurna!"]})]})]})})},s.id)),k.length===0&&e.jsx(g,{children:e.jsxs(f,{className:"flex flex-col items-center py-12 text-center",children:[e.jsx(b,{className:"w-12 h-12 mb-4 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"Tidak ada kuis ditemukan"}),e.jsx("p",{className:"mb-4 text-gray-500",children:o?"Coba ubah filter pencarian atau reset filter untuk melihat semua kuis.":"Belum ada kuis yang dikerjakan. Mulai kerjakan kuis pertama Anda!"}),o?e.jsxs(n,{variant:"outline",onClick:N,children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Reset Filter"]}):e.jsx(n,{className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>window.location.href="/quiz",children:"Mulai Kuis"})]})})]})]})},de=()=>{var t;const{props:a}=P(),x=a.redeems||[],l=((t=a.auth)==null?void 0:t.user)??null;return l?e.jsx(B,{currentPage:"my-merchandise",children:e.jsx(U,{auth:{user:l},quizzes:x})}):null};export{de as default};
