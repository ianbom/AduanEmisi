import{J as n,r,j as e,S as s}from"./app-B3f0EUQn.js";import{s as k,N as m,g as w,e as O,F as g,$ as C,f as M}from"./Footer-DsQPVbyv.js";function N({children:l,currentPage:u}){const{flash:t={}}=n().props,[h,a]=r.useState(!1),{auth:i}=n().props,o=i==null?void 0:i.user,c=[{id:"homepage",label:"Beranda",key:"homepage",showOnMobile:!0,showOnDesktop:!0},{id:"report",label:"Laporan",key:"report",showOnMobile:!0,showOnDesktop:!0},{id:"mission",label:"Misi",key:"mission",showOnMobile:!0,showOnDesktop:!0},{id:"map",label:"Peta",key:"map",showOnMobile:!0,showOnDesktop:!0},{id:"education",label:"Konten Edukasi",key:"education",showOnMobile:!0,showOnDesktop:!0},{id:"quiz",label:"Quiz",key:"quiz",showOnMobile:!0,showOnDesktop:!0},{id:"leaderboard",label:"Leaderboard",key:"leaderboard",showOnMobile:!0,showOnDesktop:!1},{id:"merchandise",label:"Merchandise",key:"merchandise",showOnMobile:!0,showOnDesktop:!1}];r.useEffect(()=>{console.log("Flash data di CitizenLayout:",t),k.handleFlash(t)},[t]);const p=f=>{s.visit(`/${f}`)},d=()=>{(o==null?void 0:o.role)==="citizen"?s.visit(route("profile.show")):s.visit(route("community.profile.show"))},b=()=>{s.post(route("logout"))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-white",children:[e.jsx(m,{user:o,navItems:c,onNavigate:p,currentPage:u,onNotificationClick:()=>a(!0),profileMenuContent:w({user:o,onProfileClick:d,onLogoutClick:b})}),e.jsx("main",{className:"pt-16",children:l}),e.jsx(O,{isOpen:h,onClose:()=>a(!1)}),e.jsx(g,{}),e.jsx(C,{position:"top-right",richColors:!0,closeButton:!0}),e.jsx(M,{})]})}export{N as C};
