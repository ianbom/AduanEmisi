import{J as a,r,j as o,S as i}from"./app-CoH15XZe.js";import{s as h,N as g,g as C,h as k,F as x,$ as N,i as b}from"./Footer-BKK-BSje.js";function F({children:l,currentPage:m}){const{auth:e}=a().props,t=e==null?void 0:e.user,{flash:s={}}=a().props,[c,n]=r.useState(!1),u=[{id:"homepage",label:"Beranda",key:"community/homepage"},{id:"community/report",label:"Laporan",key:"community/report"},{id:"community/mission",label:"Misi",key:"community/mission"},{id:"community/map",label:"Peta",key:"community/map"},{id:"community/education",label:"Konten Edukasi",key:"community/education"}];r.useEffect(()=>{console.log("Flash data di CommunityLayout:",s),h.handleFlash(s)},[s]);const p=y=>{i.visit(`/${y}`)},d=()=>{(t==null?void 0:t.role)==="citizen"?i.visit(route("profile.show")):i.visit(route("community.profile.show"))},f=()=>{i.post(route("logout"))};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-white",children:[o.jsx(g,{user:t,navItems:u,onNavigate:p,currentPage:m,onNotificationClick:()=>n(!0),profileMenuContent:C({user:t,onProfileClick:d,onLogoutClick:f})}),o.jsx("main",{className:"pt-16",children:l}),o.jsx(k,{isOpen:c,onClose:()=>n(!1)}),o.jsx(x,{}),o.jsx(N,{position:"top-right",richColors:!0,closeButton:!0}),o.jsx(b,{})]})}export{F as C};
