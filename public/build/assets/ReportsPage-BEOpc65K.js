import{r as C,j as e,S as B}from"./app-CEf6-TVv.js";import{B as l,C as n,b as T,d as L,a as b,I as d}from"./index-T59oawn7.js";import{S as i,a as r,b as t,c,d as a}from"./select-D_0_1Ftm.js";import{a as P}from"./formatDate-DdkzSpcV.js";import{g as z}from"./reportStatusColor-DlK-Ifkc.js";import{B as m}from"./Badge-DaU8GyFg.js";import{P as F}from"./plus-b3oEZY1A.js";import{F as M,E as D}from"./filter-C-AgaYYg.js";import{S as _}from"./search-Eq9PLU5C.js";import{M as A}from"./map-pin-CvMsSeln.js";import{C as E}from"./calendar-BDxQ4HCg.js";import{T as I,a as K}from"./thumbs-up-G2ntTz4B.js";import{F as R}from"./CitizenLayout-BJCqtu_4.js";const ee=({reports:x,myReports:o,onViewDetails:y,onCreateReport:w})=>{const[k,S]=C.useState("newest");return e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:o?"Laporan Saya":"Daftar Laporan"}),e.jsx("p",{className:"text-gray-600",children:o?"Laporan yang dibuat oleh Anda":"Temukan Laporan dan bergabung dalam aksi penyelamatan lingkungan"})]}),e.jsxs(l,{onClick:w,className:"mt-4 bg-emerald-700 text-white hover:bg-emerald-800 md:mt-0",size:"lg",children:[e.jsx(F,{size:20,className:"mr-2"}),"Buat Laporan Baru"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-4",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(n,{className:"sticky top-24",children:[e.jsx(T,{children:e.jsxs(L,{className:"flex items-center text-lg",children:[e.jsx(M,{size:20,className:"mr-2 text-emerald-600"}),"Filter Laporan"]})}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Kategori"}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsx(t,{placeholder:"Pilih kategori"})}),e.jsxs(c,{children:[e.jsx(a,{value:"semua",children:"Semua Kategori"}),e.jsx(a,{value:"pencemaran-air",children:"Pencemaran Air"}),e.jsx(a,{value:"pencemaran-laut",children:"Pencemaran Laut"}),e.jsx(a,{value:"kerusakan-hutan",children:"Kerusakan Hutan"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsx(t,{placeholder:"Pilih status"})}),e.jsxs(c,{children:[e.jsx(a,{value:"semua",children:"Semua Status"}),e.jsx(a,{value:"menunggu",children:"Menunggu"}),e.jsx(a,{value:"progress",children:"Dalam Progress"}),e.jsx(a,{value:"selesai",children:"Selesai"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Provinsi"}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsx(t,{placeholder:"Pilih provinsi"})}),e.jsxs(c,{children:[e.jsx(a,{value:"semua",children:"Semua Provinsi"}),e.jsx(a,{value:"bali",children:"Bali"}),e.jsx(a,{value:"jabar",children:"Jawa Barat"}),e.jsx(a,{value:"jakarta",children:"DKI Jakarta"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tanggal Mulai"}),e.jsx(d,{type:"date"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tanggal Selesai"}),e.jsx(d,{type:"date"})]})]}),e.jsxs("div",{className:"space-y-2 pt-4",children:[e.jsx(l,{className:"w-full bg-emerald-600 hover:bg-emerald-700",children:"Terapkan Filter"}),e.jsx(l,{variant:"outline",className:"w-full",children:"Reset Filter"})]})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(i,{value:k,onValueChange:S,children:[e.jsx(r,{className:"w-48",children:e.jsx(t,{placeholder:"Urutkan berdasarkan"})}),e.jsxs(c,{children:[e.jsx(a,{value:"newest",children:"Terbaru"}),e.jsx(a,{value:"popular",children:"Terpopuler"}),e.jsx(a,{value:"status",children:"Status"})]})]})}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(_,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(d,{placeholder:"Cari laporan...",className:"pl-10"})]})]}),x.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3",children:x.map(s=>{var h,j,u,g,p,v,N,f;return e.jsxs(n,{className:"group cursor-pointer border-0 shadow-md transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",onClick:()=>y(s.id),children:[e.jsxs("div",{className:"relative overflow-hidden rounded-t-lg",children:[(u=(j=(h=s.media)==null?void 0:h[0])==null?void 0:j.media_type)!=null&&u.startsWith("video")?e.jsxs("div",{className:"relative h-48 w-full bg-black",children:[e.jsx("video",{className:"h-full w-full object-cover opacity-50",src:`/storage/${s.media[0].media_url}`,muted:!0,preload:"metadata"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"rounded-full bg-white/80 p-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-black",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-5.197-3.03A1 1 0 008 9.03v5.94a1 1 0 001.555.832l5.197-3.03a1 1 0 000-1.664z"})})})})]}):e.jsx("img",{src:`/storage/${(p=(g=s.media)==null?void 0:g[0])==null?void 0:p.media_url}`,alt:s.title,className:"h-48 w-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsxs("div",{className:"absolute right-3 top-3 flex items-center gap-2",children:[e.jsx(m,{className:z(s.status),children:s.status}),s.mission&&e.jsx(m,{className:"bg-indigo-100 text-indigo-700",children:"Ada Misi"})]})]}),e.jsxs(b,{className:"p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(m,{className:"border border-gray-400 bg-white text-gray-700",children:s.category})}),e.jsx("h3",{className:"mb-2 line-clamp-2 font-semibold text-gray-900 transition-colors group-hover:text-emerald-600",children:s.title}),e.jsxs("div",{className:"mb-3 flex items-center text-sm text-gray-500",children:[e.jsx(A,{size:14,className:"mr-1"}),e.jsxs("span",{className:"truncate",children:[(v=s.district)==null?void 0:v.name,","," ",(N=s.city)==null?void 0:N.name,","," ",(f=s.province)==null?void 0:f.name]})]}),e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(E,{size:14,className:"mr-1"}),e.jsx("span",{children:P(s.created_at)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-5",children:[e.jsxs("div",{className:"flex items-center text-sm font-medium text-emerald-600",children:[e.jsx(I,{size:14,className:"mr-1"}),e.jsx("span",{children:s.upvotes_count||0})]}),e.jsxs("div",{className:"flex items-center text-sm font-medium text-rose-600",children:[e.jsx(K,{size:14,className:"mr-1"}),e.jsx("span",{children:s.dislikes_count||0})]})]})]}),e.jsxs(l,{className:"mt-auto w-full bg-amber-500 transition-colors duration-200 hover:bg-amber-700",onClick:()=>B.visit(`/report/${s.id}`),children:[e.jsx(D,{size:16,className:"mr-2"}),"Lihat Detail"]})]})]},s.id)})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(l,{variant:"outline",size:"lg",className:"min-w-32",children:"Muat Lebih Banyak"})})]}):e.jsx("div",{className:"flex w-full items-center justify-center",children:e.jsxs(n,{className:"w-full px-8 py-32 text-center",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx("div",{className:"rounded-full bg-gray-100 p-4",children:e.jsx(R,{size:32,className:"h-12 w-12 text-gray-400"})})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:"Laporan Belum Tersedia"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Belum ada laporan yang tersedia saat ini. Coba buat laporan baru."})]})})]})]})]})};export{ee as R};
